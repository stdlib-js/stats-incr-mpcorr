// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";function f(f,m,o){var l,d,a,p,h,j,u,b,v,g,c,N,w,x,y,E,H,I;if(!r(f))throw new TypeError(n("1Ip4b,Ht",f));if(l=new i(2*f),H=f-1,j=0,u=0,y=0,x=-1,E=0,arguments.length>1){if(!e(m))throw new TypeError(n("1Ip4A,Hr",m));if(!e(o))throw new TypeError(n("1Ip4B,Hu",o));return b=m,v=o,k}return b=0,v=0,T;function T(r,e){var i,n,m,o,T;if(0===arguments.length)return 0===E?null:1===E?0:E<f?y/(E-1)/(g*c):y/H/(g*c);if(I=2*(x=(x+1)%f),t(r)||t(e))E=f,y=NaN;else{if(E<f)return l[I]=r,l[I+1]=e,j+=(N=r-b)*(r-(b+=N/(E+=1))),u+=(w=e-v)*(h=e-(v+=w/E)),y+=N*h,1===E?0:(g=s(j/(m=E-1)),c=s(u/m),y/m/(g*c));if(1===E)return 0;if(t(l[I])||t(l[I+1])){for(E=1,b=r,v=e,j=0,u=0,y=0,o=0;o<f;o++)if((T=2*o)!==I){if(i=l[T],n=l[T+1],t(i)||t(n)){E=f,y=NaN;break}j+=(N=i-b)*(i-(b+=N/(E+=1))),u+=(w=n-v)*(h=n-(v+=w/E)),y+=N*h}}else!1===t(y)&&(d=l[I]-b,p=l[I+1]-v,j+=(N=(a=r-b)-d)*(d+(r-(b+=N/f))),u+=(w=(h=e-v)-p)*(p+(e-(v+=w/f))),y+=a*h-d*p-N*w/f)}return l[I]=r,l[I+1]=e,g=s(j/H),c=s(u/H),y/H/(g*c)}function k(r,e){var i,n;if(0===arguments.length)return 0===E?null:E<f?y/E/(g*c):y/f/(g*c);if(I=2*(x=(x+1)%f),t(r)||t(e))E=f,y=NaN;else{if(E<f)return l[I]=r,l[I+1]=e,u+=(w=e-v)*w,y+=(N=r-b)*w,g=s((j+=N*N)/(E+=1)),c=s(u/E),y/E/(g*c);if(t(l[I])||t(l[I+1])){for(j=0,u=0,y=0,i=0;i<f;i++)if((n=2*i)!==I){if(t(l[n])||t(l[n+1])){E=f,y=NaN;break}N=l[n]-b,j+=N*N,w=l[n+1]-v,u+=w*w,y+=N*w}}else!1===t(y)&&(d=l[I]-b,a=r-b,p=l[I+1]-v,j+=(a-d)*(a+d),u+=((h=e-v)-p)*(h+p),y+=a*h-d*p)}return l[I]=r,l[I+1]=e,g=s(j/f),c=s(u/f),y/f/(g*c)}}export{f as default};
//# sourceMappingURL=index.mjs.map
