// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";var a=e.isPrimitive,m=r.isPrimitive,l=t,f=i,d=s,u=n;var o=function(e,r,t){var i,s,n,o,h,p,g,j,v,b,c,N,w,x,y,T,E,V;if(!a(e))throw new TypeError(u("invalid argument. First argument must be a positive integer. Value: `%s`.",e));if(i=new d(2*e),E=e-1,p=0,g=0,y=0,x=-1,T=0,arguments.length>1){if(!m(r))throw new TypeError(u("invalid argument. Second argument must be a number. Value: `%s`.",r));if(!m(t))throw new TypeError(u("invalid argument. Third argument must be a number. Value: `%s`.",t));return j=r,v=t,P}return j=0,v=0,k;function k(r,t){var a,m,d,u,k;if(0===arguments.length)return 0===T?null:1===T?0:T<e?y/(T-1)/(b*c):y/E/(b*c);if(V=2*(x=(x+1)%e),l(r)||l(t))T=e,y=NaN;else{if(T<e)return i[V]=r,i[V+1]=t,p+=(N=r-j)*(r-(j+=N/(T+=1))),g+=(w=t-v)*(h=t-(v+=w/T)),y+=N*h,1===T?0:(b=f(p/(d=T-1)),c=f(g/d),y/d/(b*c));if(1===T)return 0;if(l(i[V])||l(i[V+1])){for(T=1,j=r,v=t,p=0,g=0,y=0,u=0;u<e;u++)if((k=2*u)!==V){if(a=i[k],m=i[k+1],l(a)||l(m)){T=e,y=NaN;break}p+=(N=a-j)*(a-(j+=N/(T+=1))),g+=(w=m-v)*(h=m-(v+=w/T)),y+=N*h}}else!1===l(y)&&(s=i[V]-j,o=i[V+1]-v,p+=(N=(n=r-j)-s)*(s+(r-(j+=N/e))),g+=(w=(h=t-v)-o)*(o+(t-(v+=w/e))),y+=n*h-s*o-N*w/e)}return i[V]=r,i[V+1]=t,b=f(p/E),c=f(g/E),y/E/(b*c)}function P(r,t){var a,m;if(0===arguments.length)return 0===T?null:T<e?y/T/(b*c):y/e/(b*c);if(V=2*(x=(x+1)%e),l(r)||l(t))T=e,y=NaN;else{if(T<e)return i[V]=r,i[V+1]=t,g+=(w=t-v)*w,y+=(N=r-j)*w,b=f((p+=N*N)/(T+=1)),c=f(g/T),y/T/(b*c);if(l(i[V])||l(i[V+1])){for(p=0,g=0,y=0,a=0;a<e;a++)if((m=2*a)!==V){if(l(i[m])||l(i[m+1])){T=e,y=NaN;break}N=i[m]-j,p+=N*N,w=i[m+1]-v,g+=w*w,y+=N*w}}else!1===l(y)&&(s=i[V]-j,n=r-j,o=i[V+1]-v,p+=(n-s)*(n+s),g+=((h=t-v)-o)*(h+o),y+=n*h-s*o)}return i[V]=r,i[V+1]=t,b=f(p/e),c=f(g/e),y/e/(b*c)}};export{o as default};
//# sourceMappingURL=index.mjs.map
