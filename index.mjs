// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var f=r.isPrimitive,m=e.isPrimitive,o=t,l=i,d=s,a=n;var h=function(r,e,t){var i,s,n,h,p,j,u,v,b,g,c,N,w,x,y,E,J,T;if(!f(r))throw new TypeError(a("0eJ4o",r));if(i=new d(2*r),J=r-1,j=0,u=0,y=0,x=-1,E=0,arguments.length>1){if(!m(e))throw new TypeError(a("0eJ4N",e));if(!m(t))throw new TypeError(a("0eJ4O",t));return v=e,b=t,P}return v=0,b=0,k;function k(e,t){var f,m,d,a,k;if(0===arguments.length)return 0===E?null:1===E?0:E<r?y/(E-1)/(g*c):y/J/(g*c);if(T=2*(x=(x+1)%r),o(e)||o(t))E=r,y=NaN;else{if(E<r)return i[T]=e,i[T+1]=t,j+=(N=e-v)*(e-(v+=N/(E+=1))),u+=(w=t-b)*(p=t-(b+=w/E)),y+=N*p,1===E?0:(g=l(j/(d=E-1)),c=l(u/d),y/d/(g*c));if(1===E)return 0;if(o(i[T])||o(i[T+1])){for(E=1,v=e,b=t,j=0,u=0,y=0,a=0;a<r;a++)if((k=2*a)!==T){if(f=i[k],m=i[k+1],o(f)||o(m)){E=r,y=NaN;break}j+=(N=f-v)*(f-(v+=N/(E+=1))),u+=(w=m-b)*(p=m-(b+=w/E)),y+=N*p}}else!1===o(y)&&(s=i[T]-v,h=i[T+1]-b,j+=(N=(n=e-v)-s)*(s+(e-(v+=N/r))),u+=(w=(p=t-b)-h)*(h+(t-(b+=w/r))),y+=n*p-s*h-N*w/r)}return i[T]=e,i[T+1]=t,g=l(j/J),c=l(u/J),y/J/(g*c)}function P(e,t){var f,m;if(0===arguments.length)return 0===E?null:E<r?y/E/(g*c):y/r/(g*c);if(T=2*(x=(x+1)%r),o(e)||o(t))E=r,y=NaN;else{if(E<r)return i[T]=e,i[T+1]=t,u+=(w=t-b)*w,y+=(N=e-v)*w,g=l((j+=N*N)/(E+=1)),c=l(u/E),y/E/(g*c);if(o(i[T])||o(i[T+1])){for(j=0,u=0,y=0,f=0;f<r;f++)if((m=2*f)!==T){if(o(i[m])||o(i[m+1])){E=r,y=NaN;break}N=i[m]-v,j+=N*N,w=i[m+1]-b,u+=w*w,y+=N*w}}else!1===o(y)&&(s=i[T]-v,n=e-v,h=i[T+1]-b,j+=(n-s)*(n+s),u+=((p=t-b)-h)*(p+h),y+=n*p-s*h)}return i[T]=e,i[T+1]=t,g=l(j/r),c=l(u/r),y/r/(g*c)}};export{h as default};
//# sourceMappingURL=index.mjs.map
