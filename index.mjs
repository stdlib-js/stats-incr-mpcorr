// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.1.1-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.1.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";function a(a,m,l){var f,d,u,o,h,v,p,g,j,b,c,N,w,x,y,T,E,V;if(!e(a))throw new TypeError(n("invalid argument. First argument must be a positive integer. Value: `%s`.",a));if(f=new s(2*a),E=a-1,v=0,p=0,y=0,x=-1,T=0,arguments.length>1){if(!r(m))throw new TypeError(n("invalid argument. Second argument must be a number. Value: `%s`.",m));if(!r(l))throw new TypeError(n("invalid argument. Third argument must be a number. Value: `%s`.",l));return g=m,j=l,q}return g=0,j=0,k;function k(e,r){var s,n,m,l,k;if(0===arguments.length)return 0===T?null:1===T?0:T<a?y/(T-1)/(b*c):y/E/(b*c);if(V=2*(x=(x+1)%a),t(e)||t(r))T=a,y=NaN;else{if(T<a)return f[V]=e,f[V+1]=r,v+=(N=e-g)*(e-(g+=N/(T+=1))),p+=(w=r-j)*(h=r-(j+=w/T)),y+=N*h,1===T?0:(b=i(v/(m=T-1)),c=i(p/m),y/m/(b*c));if(1===T)return 0;if(t(f[V])||t(f[V+1])){for(T=1,g=e,j=r,v=0,p=0,y=0,l=0;l<a;l++)if((k=2*l)!==V){if(s=f[k],n=f[k+1],t(s)||t(n)){T=a,y=NaN;break}v+=(N=s-g)*(s-(g+=N/(T+=1))),p+=(w=n-j)*(h=n-(j+=w/T)),y+=N*h}}else!1===t(y)&&(d=f[V]-g,o=f[V+1]-j,v+=(N=(u=e-g)-d)*(d+(e-(g+=N/a))),p+=(w=(h=r-j)-o)*(o+(r-(j+=w/a))),y+=u*h-d*o-N*w/a)}return f[V]=e,f[V+1]=r,b=i(v/E),c=i(p/E),y/E/(b*c)}function q(e,r){var s,n;if(0===arguments.length)return 0===T?null:T<a?y/T/(b*c):y/a/(b*c);if(V=2*(x=(x+1)%a),t(e)||t(r))T=a,y=NaN;else{if(T<a)return f[V]=e,f[V+1]=r,p+=(w=r-j)*w,y+=(N=e-g)*w,b=i((v+=N*N)/(T+=1)),c=i(p/T),y/T/(b*c);if(t(f[V])||t(f[V+1])){for(v=0,p=0,y=0,s=0;s<a;s++)if((n=2*s)!==V){if(t(f[n])||t(f[n+1])){T=a,y=NaN;break}N=f[n]-g,v+=N*N,w=f[n+1]-j,p+=w*w,y+=N*w}}else!1===t(y)&&(d=f[V]-g,u=e-g,o=f[V+1]-j,v+=(u-d)*(u+d),p+=((h=r-j)-o)*(h+o),y+=u*h-d*o)}return f[V]=e,f[V+1]=r,b=i(v/a),c=i(p/a),y/a/(b*c)}}export{a as default};
//# sourceMappingURL=index.mjs.map
